<!DOCTYPE html>
<html class="no-js">
        
    <!-- Template powered by http://www.initializr.com/-->

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Flagity</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
        
        <style type="text/css">
          #oneFlagity .active {
            background-color: red;
          }
        </style>
    </head>
    <body>

      <div class="container" role="main">
                
        <div class="page-header">
          <h1>Flagity <small>Simplify the multiple conditions with <a href="http://knockoutjs.com/">Knockoutjs</a></small></h1>
        </div>

        <!-- One binary flags -->
        <div id="oneFlagity" class="panel panel-default">
          <div class="panel-heading"><strong>Singles Flagity (flagity binding) <small>Binary flags</small></strong></div>
          <div class="panel-body">
            <h4>css</h4>
            <div class="row">
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 1 } }">1</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 2 } }">2</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 4 } }">4</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 8 } }">8</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 16 } }">16</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 32 } }">32</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 64 } }">64</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 128 } }">128</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 256 } }">256</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 512 } }">512</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 1024 } }">1024</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, css: { active: 2048 } }">2048</div>
            </div>
            <hr>
            <h4>visible</h4>
            <div class="row">
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 1 }">1</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 2 }">2</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 4 }">4</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 8 }">8</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 16 }">16</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 32 }">32</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 64 }">64</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 128 }">128</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 256 }">256</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 512 }">512</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 1024 }">1024</div>
              <div class="col-sm-1" data-bind="flagity: { flag: someFlags, visible: 2048 }">2048</div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3 text-right">
                <span>Flag:</span>
                <input type="number" data-bind="value: someFlags, valueUpdate: 'afterkeydown'">
              </div>
              <div class="col-sm-9">
                <p>Please type some binary combination like, 4 , 8 or 12 = (4|8) </p>
              </div>
            </div>
            <hr>
            <span>Current flag: </span><span class="label label-default" data-bind="value: someFlags"></span>  
          </div>
        </div> 
      
      <!-- Simple keys flags -->
      <div id="simpleKeysFlagity" class="panel panel-default">
          <div class="panel-heading"><strong>Simple Flag (flagityWith binding) <small>Keys flags</small></strong></div>
          <div class="panel-body">
            <form>
              
              <div class="form-group">
                <label class="checkbox-inline">
                  <input type="checkbox" data-bind="checked: btn_a"> A
                </label>
                <label class="checkbox-inline">
                  <input type="checkbox" data-bind="checked: btn_b"> B
                </label>
                <label class="checkbox-inline">
                  <input type="checkbox" data-bind="checked: btn_c"> C
                </label>
                <label class="checkbox-inline">
                  <input type="checkbox" data-bind="checked: btn_d"> D
                </label>
                <label class="checkbox-inline">
                  <input type="checkbox" data-bind="checked: btn_e"> E
                </label>
              </div>
              <div data-bind="flagityWith: simpleFlagKey, flagityOptions: { type: 'keys' }">

                <button type="button" class="btn btn-default" data-bind="flagity: { enable: 'A' }">A (enable)</button>
                <button type="button" class="btn btn-default" data-bind="flagity: { css: { active: 'B' } }">B (active)</button>
                <button type="button" class="btn btn-default" data-bind="flagity: { visible: 'C' }">C (visible)</button>
                <button type="button" class="btn btn-default" data-bind="flagity: { disable: 'D' }">D (disable)</button>
                <button type="button" class="btn btn-default" data-bind="flagity: { visible: 'E', comparer: function(key, flags) { return true; } }">E (custom comparer always true)</button>

              </div>
              
              <hr>
              
              <span>Flag: </span><span class="label label-default" data-bind="text: simpleFlagKey"></span>

              <hr>

              <p>NOTE: You can use custom binding properties (boolean)</p>

            </form>

        </div>

      </div> 

    </div> <!-- /container -->

    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/2.3.0/knockout-min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

    <script src="../ko.flagity.js"></script>
    
    <!-- ViewModel -->
    <script>
    (function($, ko, window, undefined){

        var vm_oneFlagity = {
          someFlags: ko.observable(0)
        };

        var vm_simpleKeysFlagity = {
            btn_a: ko.observable(false),
            btn_b: ko.observable(true),
            btn_c: ko.observable(true),
            btn_d: ko.observable(false),
            btn_e: ko.observable(false),
        };

        vm_simpleKeysFlagity.simpleFlagKey = ko.computed(function(){
          var keys = [];
          if (this.btn_a()) {  keys.push('A'); }

          if (this.btn_b()) { keys.push('B'); }

          if (this.btn_c()) { keys.push('C'); }

          if (this.btn_d()) { keys.push('D'); }

          if (this.btn_e()) { keys.push('E'); }

          return keys.join(',');
        }, vm_simpleKeysFlagity);

        $('document').ready(function(){
            
            ko.applyBindings(vm_oneFlagity, $('#oneFlagity').get(0));

            ko.applyBindings(vm_simpleKeysFlagity, $('#simpleKeysFlagity').get(0));

        });

    })(jQuery, ko, window)
    </script>

    </body>
</html>
